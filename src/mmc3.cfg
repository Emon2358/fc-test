MEMORY {
    HEADER:      start = $0000, size = $0010, file = %O, fill = yes;
    ZP:          start = $0000, size = $0100, type = rw;           # Zero page ($00-$FF)
    RAM:         start = $0100, size = $0300, type = rw;           # Work RAM (includes $0300 start を想定)
    PRG:         start = $8000, size = $4000, file = %O, fill = yes, bank = 0;
    RODATA:      start = $C000, size = $4000, file = %O, fill = yes, bank = 1;  # $C000-$FFFF
    VIDEO_MAP:   start = $E000, size = $2000, file = %O, fill = yes, bank = 2-15; # 別領域に移動して重複回避
    CHR:         start = $0000, size = $2000, file = %O, fill = yes;
    VIDEO_CHR:   start = $0000, size = $2000, file = %O, fill = yes, bank = 1-127;
}

SEGMENTS {
    HEADER:    load = HEADER,    type = ro;
    CODE:      load = PRG,       type = ro, align = $100;
    RODATA:    load = RODATA,    type = ro, align = $100;
    VIDEO_MAP: load = VIDEO_MAP, type = ro, align = $100;
    VECTORS:   load = RODATA,    type = ro, start = $FFFA;    # ベクタは通常 $FFFA-$FFFF に置く（RODATA の範囲内に）
    CHR:       load = CHR,       type = ro;
    VIDEO_CHR: load = VIDEO_CHR, type = ro, align = $100;
    ZEROPAGE:  load = ZP,        type = zp, start = $0002;
    RAM:       load = RAM,       type = bss, start = $0300;   # bss の開始アドレスは MEMORY の RAM 範囲内に
}
