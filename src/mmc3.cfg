# mmc3.cfg — 修正版（例）
MEMORY {
    HEADER:     start = $0000, size = $0010, file = %O, fill = yes;
    ZP:         start = $0000, size = $0100, type = rw;                # Zero page
    RAM:        start = $0100, size = $02F0, type = rw;                # CPU work RAM ($0100-$03FF)
    SRAM:       start = $6000, size = $3000, file = %O, fill = yes;    # $6000-$8FFF（余裕をとる）
    PRG0:       start = $8000, size = $4000, file = %O, fill = yes, bank = 0;  # $8000-$BFFF
    PRG1:       start = $C000, size = $4000, file = %O, fill = yes, bank = 1;  # $C000-$FFFF
    CHR:        start = $0000, size = $2000, file = %O, fill = yes;    # PPU CHR $0000-$1FFF (8KB)
    VIDEO_CHR:  start = $2000, size = $2000, file = %O, fill = yes;    # 補助CHR領域（8KB）
}

SEGMENTS {
    HEADER:     load = HEADER,     type = ro;
    CODE:       load = PRG0,       type = ro, align = $100;    # 実行コード
    RODATA:     load = PRG1,       type = ro, align = $100;    # 定数等
    VECTORS:    load = PRG1,       type = ro, start = $FFFA;   # ベクタ ($FFFA-$FFFF)
    VIDEO_MAP:  load = SRAM,       type = ro, align = $100;    # マップ等は SRAM に
    CHR:        load = CHR,        type = ro;                 # CHR セグメント（必ず定義）
    VIDEO_CHR:  load = VIDEO_CHR,  type = ro, align = $100;    # 補助CHR
    ZEROPAGE:   load = ZP,         type = zp, start = $0002;
    BSS:        load = RAM,        type = bss, start = $0300;
}
