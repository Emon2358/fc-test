# 修正版 mmc3.cfg — ld65 用（例）
MEMORY {
    HEADER:     start = $0000, size = $0010, file = %O, fill = yes;
    ZP:         start = $0000, size = $0100, type = rw;        # Zero page ($0000-$00FF)
    RAM:        start = $0100, size = $02F0, type = rw;        # CPU Work RAM ($0100-$03FF)
    SRAM:       start = $6000, size = $2000, file = %O, fill = yes;  # $6000-$7FFF (SRAM/mapper領域) — 十分なサイズに
    PRG0:       start = $8000, size = $4000, file = %O, fill = yes, bank = 0;  # $8000-$BFFF (16KB bank)
    PRG1:       start = $C000, size = $4000, file = %O, fill = yes, bank = 1;  # $C000-$FFFF (16KB bank)
    CHR:        start = $0000, size = $2000, file = %O, fill = yes;           # PPU CHR $0000-$1FFF (8KB)
    VIDEO_CHR:  start = $2000, size = $2000, file = %O, fill = yes;           # 補助CHR領域（必要なら拡張）
}

SEGMENTS {
    HEADER:     load = HEADER,    type = ro;
    CODE:       load = PRG0,      type = ro, align = $100;     # コードは PRG0 に配置
    RODATA:     load = PRG1,      type = ro, align = $100;     # 定数/リソースは PRG1
    VECTORS:    load = PRG1,      type = ro, start = $FFFA;    # ベクタは $FFFA-$FFFF (PRG1 内に)
    VIDEO_MAP:  load = SRAM,      type = ro, align = $100;     # マップデータは SRAM に（十分な size を確保）
    CHR:        load = CHR,       type = ro;                   # 「セグメント名 'CHR'」を定義（オブジェクトが参照する場合に必要）
    VIDEO_CHR:  load = VIDEO_CHR, type = ro, align = $100;     # 補助CHR用セグメント
    ZEROPAGE:   load = ZP,        type = zp, start = $0002;
    BSS:        load = RAM,       type = bss, start = $0300;   # ワーク領域
}
